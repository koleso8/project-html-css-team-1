{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// Header menu\nconst btnBurger = document.getElementsByClassName('header-burger')[0];\nconst menu = document.getElementsByClassName('header-menu')[0];\nconst menuLinks = document.getElementsByClassName('header-nav-link');\nconst menuLinksArray = Array.from(menuLinks);\n\nmenuLinksArray.forEach(link => {\n  link.addEventListener('click', function (event) {\n    document.body.classList.remove('body-prevent-scroll');\n    menu.classList.remove('header-menu-open');\n    btnBurger.classList.remove('header-burger-open');\n  });\n});\n\nbtnBurger.addEventListener('click', function (event) {\n  event.stopPropagation();\n  document.body.classList.toggle('body-prevent-scroll');\n  menu.classList.toggle('header-menu-open');\n  btnBurger.classList.toggle('header-burger-open');\n});\n\ndocument.addEventListener('click', event => {\n  if (\n    !menu.contains(event.target) &&\n    menu.classList.contains('header-menu-open')\n  ) {\n    document.body.classList.remove('body-prevent-scroll');\n    menu.classList.remove('header-menu-open');\n    btnBurger.classList.remove('header-burger-open');\n  }\n});\n//\n\n// Sections animation\nlet blocks = document.querySelectorAll('.section-animation');\n\nfunction checkBlocksVisibility() {\n  let windowHeight = window.innerHeight;\n\n  blocks.forEach(block => {\n    let blockPosition = block.getBoundingClientRect().top;\n\n    if (blockPosition < windowHeight - 100) {\n      block.style.opacity = '1';\n      block.style.transform = 'translateY(0)';\n    }\n  });\n}\n\ncheckBlocksVisibility();\n\nwindow.addEventListener('scroll', checkBlocksVisibility);\n//\n\n// Smooth scroll to anchor\ndocument.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n  anchor.addEventListener('click', function (e) {\n    e.preventDefault();\n\n    const targetElement = document.querySelector(this.getAttribute('href'));\n\n    if (targetElement) {\n      const targetPosition =\n        targetElement.getBoundingClientRect().top + window.pageYOffset;\n      const startPosition = window.pageYOffset;\n      const distance = targetPosition - startPosition;\n      const duration = 500;\n      let startTime = null;\n\n      function animation(currentTime) {\n        if (startTime === null) startTime = currentTime;\n        const timeElapsed = currentTime - startTime;\n        const run = ease(timeElapsed, startPosition, distance, duration);\n        window.scrollTo(0, run);\n        if (timeElapsed < duration) requestAnimationFrame(animation);\n      }\n\n      function ease(t, b, c, d) {\n        t /= d / 2;\n        if (t < 1) return (c / 2) * t * t + b;\n        t--;\n        return (-c / 2) * (t * (t - 2) - 1) + b;\n      }\n\n      requestAnimationFrame(animation);\n    }\n  });\n});\n//\n\n// Header hide when scroll\nlet lastScroll = 0;\nconst defaultOffset = 60;\nconst header = document.querySelector('.header');\n\nconst scrollPosition = () =>\n  window.scrollY || document.documentElement.scrollTop;\nconst containHide = () => header.classList.contains('hide');\n\nwindow.addEventListener('scroll', () => {\n  if (\n    scrollPosition() > lastScroll &&\n    !containHide() &&\n    scrollPosition() > defaultOffset\n  ) {\n    header.classList.add('hide');\n  } else if (scrollPosition() < lastScroll && containHide()) {\n    header.classList.remove('hide');\n  }\n\n  lastScroll = scrollPosition();\n});\n//\n\n// Header active nav-item\n\nconst sections = document.querySelectorAll('section');\nconst navLinks = document.querySelectorAll('.header-nav-item a');\nconst offset = 100;\n\nconst getActiveSection = () => {\n  let activeSection = null;\n  sections.forEach(section => {\n    const rect = section.getBoundingClientRect();\n    if (rect.top <= offset && rect.bottom >= offset) {\n      activeSection = section;\n    }\n  });\n  return activeSection;\n};\n\nconst setActiveNavLink = () => {\n  const activeSection = getActiveSection();\n  if (activeSection) {\n    const activeId = activeSection.getAttribute('id').toLowerCase();\n    navLinks.forEach(link => {\n      const href = link.getAttribute('href').slice(1).toLowerCase();\n      if (href === activeId) {\n        link.parentElement.classList.add('header-nav-item-active');\n      } else {\n        link.parentElement.classList.remove('header-nav-item-active');\n      }\n    });\n  } else {\n    navLinks.forEach(link => {\n      link.parentElement.classList.remove('header-nav-item-active');\n    });\n  }\n};\n\nwindow.addEventListener('DOMContentLoaded', setActiveNavLink);\nwindow.addEventListener('scroll', setActiveNavLink);\n//\n// catalog\n\nconst btnCatalog = document.getElementsByClassName('catalog-btn')[0];\nconst imgCatalog5 = document.getElementsByClassName('catalog-item')[4];\nconst imgCatalog6 = document.getElementsByClassName('catalog-item')[5];\n\nbtnCatalog.addEventListener('click', function (event) {\n  imgCatalog5.classList.remove('catalog-item-hide');\n  imgCatalog6.classList.remove('catalog-item-hide');\n  btnCatalog.classList.add('catalog-btn-none');\n});\n"],"names":["btnBurger","menu","menuLinks","menuLinksArray","link","event","blocks","checkBlocksVisibility","windowHeight","block","anchor","e","targetElement","animation","currentTime","startTime","timeElapsed","run","ease","startPosition","distance","duration","t","b","c","d","targetPosition","lastScroll","defaultOffset","header","scrollPosition","containHide","sections","navLinks","offset","getActiveSection","activeSection","section","rect","setActiveNavLink","activeId","btnCatalog","imgCatalog5","imgCatalog6"],"mappings":"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"}